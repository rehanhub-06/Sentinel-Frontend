  :root{
      --text: #ffffff;
      --muted: #b9c1d1;
      --gold: #fbbc05;         /* heart highlight */
      --teal: #00e5ff;         /* battery highlight */
      --danger: #ff3b30;       /* SOS */
      --bg1: #1a1f36;
      --bg2: #16213e;
      --bg3: #0f3460;
      --bg4: #1b4965;
      --radius-xl: 24px;
      --shadow-strong: 0 10px 40px rgba(0,0,0,.35);
      --blur: 12px;
      --anim-dur: 12s;         /* keep SOS glow in phase with bg */
    }

    *{ box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family:'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      align-items:center;
      min-height:100vh;
      background: linear-gradient(-45deg, var(--bg1), var(--bg2), var(--bg3), var(--bg4));
      background-size: 300% 300%;
      animation: gradientShift var(--anim-dur) ease infinite;
      overflow:hidden;
    }

    @keyframes gradientShift{
      0%{   background-position:   0% 50%; }
      50%{  background-position: 100% 50%; }
      100%{ background-position:   0% 50%; }
    }

    /* Top bar */
    .topbar{
      width:100%;
      padding: max(env(safe-area-inset-top),16px) 16px 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      font-weight:700;
      letter-spacing:.2px;
      font-size:16px;
      color:#e8eefc;
      opacity:.9;
    }

    /* Left menu (dropdown) */
    .menu-wrap{ position:relative; }
    .icon-btn{
      display:inline-flex; align-items:center; justify-content:center;
      width:40px; height:40px; border-radius:999px;
      background:rgba(255,255,255,.06);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow-strong);
      border:1px solid rgba(255,255,255,.08);
      cursor:pointer;
    }
    .dropdown{
      position:absolute; top:48px; left:0; min-width:200px;
      background: rgba(14,18,28,.65);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      border:1px solid rgba(255,255,255,.1);
      box-shadow: var(--shadow-strong);
      border-radius: 16px;
      padding:8px;
      display:none;
      z-index:10;
    }
    .dropdown.show{ display:block; }
    .dropdown a{
      display:flex; align-items:center; gap:10px;
      padding:12px 10px; border-radius:12px;
      color:var(--text); text-decoration:none; font-size:14px;
    }
    .dropdown a:hover{ background:rgba(255,255,255,.06); }

    /* Battery pill top-right */
    .battery-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      border:1px solid rgba(255,255,255,.08);
      color:var(--teal);
      font-weight:600;
      box-shadow: var(--shadow-strong);
      min-width:74px; justify-content:center;
    }
    .battery-pill .pct{ color:#d7ffff; font-weight:700; }

    /* Center stage */
    .stage{
      width:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:24px;
      padding: 12px 16px 0;
    }

    /* Circular widgets wrapper */
    .metrics{
      display:flex; align-items:center; justify-content:center; gap:24px;
    }

    /* SOS main button (synced glow) */
    .sos{
      width:140px; height:140px; border-radius:999px; position:relative;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(35% 35% at 50% 50%, #ff6a5f 0%, var(--danger) 55%, #b01913 100%);
      box-shadow:
        0 0 0 8px rgba(255,59,48,.12),
        0 12px 40px rgba(255,59,48,.5),
        inset 0 -8px 16px rgba(0,0,0,.35);
      cursor:pointer;
      user-select:none;
      border:1px solid rgba(255,255,255,.16);
      transition: transform .2s ease;
      /* glow sync animation */
      animation: sosPulse var(--anim-dur) ease-in-out infinite;
    }
    .sos:active{ transform: scale(.96); }
    .sos__label{
      font-weight:800; font-size:28px; letter-spacing:1.5px;
      text-shadow: 0 2px 10px rgba(0,0,0,.45);
    }
    /* halo */
    .sos::after{
      content:"";
      position:absolute; inset:-18px; border-radius:inherit;
      background: radial-gradient(60% 60% at 50% 50%,
                  rgba(255,59,48,.25) 0%,
                  rgba(255,59,48,.08) 50%,
                  rgba(255,59,48,0) 70%);
      filter: blur(6px);
      pointer-events:none;
    }
    @keyframes sosPulse{
      0%  { box-shadow:
              0 0 0 8px rgba(255,59,48,.10),
              0 10px 28px rgba(255,59,48,.45),
              inset 0 -8px 16px rgba(0,0,0,.35); }
      50% { box-shadow:
              0 0 0 12px rgba(255,59,48,.18),
              0 16px 52px rgba(255,59,48,.75),
              inset 0 -10px 18px rgba(0,0,0,.38); }
      100%{ box-shadow:
              0 0 0 8px rgba(255,59,48,.10),
              0 10px 28px rgba(255,59,48,.45),
              inset 0 -8px 16px rgba(0,0,0,.35); }
    }

    /* Circular stat (SVG donut) */
    .circle{
      position:relative; width:110px; height:110px;
      display:grid; place-items:center;
    }
    .circle .label{
      position:absolute; text-align:center; line-height:1.1;
    }
    .label .value{ font-size:12px;  }
    .label .name{ font-size:12px; color:var(--muted); }
.gps-warning {
  position: fixed;
  transform: translateX(-50%);
  background-color: #ff4d4d;
  color: white;
  padding: 8px 15px;
  border-radius: 5px;
  z-index: 999;
  font-weight: bold;
  font-size: 14px;
}
    /* Bottom nav */
    .bottom-nav{
      width:100%;
      padding: 10px 16px max(env(safe-area-inset-bottom), 14px);
      display:flex; justify-content:space-around; align-items:center;
      gap:8px;
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      border-top-left-radius: 18px;
      border-top-right-radius: 18px;
      border-top:1px solid rgba(255,255,255,.08);
      
      
    }
    .nav-btn{
      display:flex; flex-direction:column; align-items:center; gap:6px;
      padding:8px 10px; border-radius:12px; min-width:64px; color:#cfd6ea; text-decoration:none; font-size:12px;
    }
    .nav-btn.active{ background: rgba(255,255,255,.08); color:#fff; }

    /* Small screens */
    @media (max-width: 360px){
      .metrics{ gap:16px; }
      .sos{ width:128px; height:128px; }
      .circle{ width:100px; height:100px; }
    }